{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Mini Code Editor</title>
    <!-- Use only one xterm CSS, CDN preferred unless you have custom styles -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/xterm/css/xterm.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/codemirror.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/theme/dracula.min.css" />
    <link rel="stylesheet" href="../../../static/css/xterm.css">
    <style>
      body { font-family: sans-serif; margin: 2rem; }
      #editor { height: 300px; border: 1px solid #ccc; }
      #terminal { height: 200px; margin-top: 1rem; }
      body.dark-mode {
             background: #181818;
        color: #eee;
      }
      body.dark-mode #editor {
         border-color: #444;
      }
    </style>
  </head>
  <body>
    <h1>Mini Code Editor</h1>
    <div class="editor-body">
    <button id="toggle-theme" aria-label="Toggle theme">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="40" height="40" viewBox="0 0 256 256" xml:space="preserve">
        <g style="stroke: transparent; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: transparent;fill-rule: nonzero; opacity: 1;" transform="translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)">
          <rect x="42" y="0" rx="0" ry="0" width="6" height="15.79" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: #7C4585; fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) "/>
          <rect x="42" y="74.21" rx="0" ry="0" width="6" height="15.79" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: #7C4585; fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) "/>
          <rect x="0" y="42" rx="0" ry="0" width="15.79" height="6" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: #7C4585; fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) "/>
          <rect x="74.21" y="42" rx="0" ry="0" width="15.79" height="6" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: #7C4585; fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) "/>
          <path d="M 74.698 11.059 l -15.71 15.71 C 54.99 23.689 50.129 22 45 22 c -12.682 0 -23 10.318 -23 23 c 0 5.13 1.689 9.991 4.769 13.989 L 11.059 74.698 l 4.242 4.242 L 78.94 15.301 L 74.698 11.059 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: #7C4585; fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
          <rect x="15.76" y="10.87" rx="0" ry="0" width="6" height="15.79" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: #7C4585; fill-rule: nonzero; opacity: 1;" transform=" matrix(0.7071 -0.7071 0.7071 0.7071 -7.7721 18.7634) "/>
          <rect x="68.24" y="63.34" rx="0" ry="0" width="6" height="15.79" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: #7C4585; fill-rule: nonzero; opacity: 1;" transform=" matrix(0.7071 -0.7071 0.7071 0.7071 -29.5071 71.2363) "/>
        </g>
        </svg>
    </button>
    <label for="code" class="editor-title">Code Editor</label>
    <textarea id="code" name="code" title="Enter your code here" placeholder="Enter your code here"></textarea><br />
    <textarea id="stdin" placeholder="Input here..." rows="2" style="width: 99%"></textarea>
    <button id="run">Run</button>
    <div id="terminal"></div>
    </div>
    <!-- Scripts: only one of each, in this order -->
    <script src="https://cdn.jsdelivr.net/npm/xterm/lib/xterm.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.5/mode/python/python.min.js"></script>
    <script src="{% static 'js/editor.js' %}"></script>
  </body>
</html>